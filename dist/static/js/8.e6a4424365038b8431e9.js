webpackJsonp([8],{"69c3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"container"},[n("div",{staticClass:"stuInfo"},[n("el-form",{ref:"infoInput",attrs:{model:e.infoInput,inline:"",rules:e.rules}},[n("el-form-item",{attrs:{label:"学号",prop:"number"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.infoInput.number,callback:function(t){e.$set(e.infoInput,"number",t)},expression:"infoInput.number"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.infoInput.password,callback:function(t){e.$set(e.infoInput,"password",t)},expression:"infoInput.password"}})],1),e._v(" "),n("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.stuInfo("infoInput")}}},[e._v("查找")])],1),e._v(" "),n("el-form",{attrs:{model:e.infoInput,inline:""}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{disabled:""},model:{value:e.infoInput.name,callback:function(t){e.$set(e.infoInput,"name",t)},expression:"infoInput.name"}})],1)],1),e._v(" "),n("el-form",{attrs:{model:e.infoInput,inline:""}},[n("el-form-item",{attrs:{label:"学院"}},[n("el-input",{attrs:{disabled:""},model:{value:e.infoInput.college,callback:function(t){e.$set(e.infoInput,"college",t)},expression:"infoInput.college"}})],1)],1),e._v(" "),n("el-form",{attrs:{model:e.infoInput,inline:""}},[n("el-form-item",{attrs:{label:"班级"}},[n("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.infoInput.class,callback:function(t){e.$set(e.infoInput,"class",t)},expression:"infoInput.class"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"trainInfo"},[n("el-form",{attrs:{model:e.trainInfo}},[n("el-form-item",{attrs:{label:"参加军训"}},[n("el-radio-group",{on:{change:function(t){e.train()}},model:{value:e.trainInfo.train,callback:function(t){e.$set(e.trainInfo,"train",t)},expression:"trainInfo.train"}},[n("el-radio",{attrs:{label:"是"}}),e._v(" "),n("el-radio",{attrs:{label:"否"}})],1)],1)],1),e._v(" "),n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.train_yes,expression:"train_yes"}],attrs:{model:e.trainInfo,inline:""}},[n("el-form-item",{attrs:{label:"军训服"}},[n("el-select",{attrs:{placeholder:" 请选择衣服尺寸（套装）"},model:{value:e.trainInfo.cloths,callback:function(t){e.$set(e.trainInfo,"cloths",t)},expression:"trainInfo.cloths"}},e._l(e.cloths,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.train_yes,expression:"train_yes"}],attrs:{model:e.trainInfo}},[n("el-form-item",{attrs:{label:"军训鞋"}},[n("el-select",{attrs:{placeholder:" 请选择鞋子码数"},model:{value:e.trainInfo.shoes,callback:function(t){e.$set(e.trainInfo,"shoes",t)},expression:"trainInfo.shoes"}},e._l(e.shoes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.train_no,expression:"train_no"}],attrs:{model:e.trainInfo,inline:""}},[n("el-form-item",{attrs:{label:"具体原因"}},[n("el-select",{attrs:{placeholder:"请选择原因...  "},model:{value:e.trainInfo.reason,callback:function(t){e.$set(e.trainInfo,"reason",t)},expression:"trainInfo.reason"}},e._l(e.reason,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),n("el-form",{attrs:{model:e.reason,inline:""}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.stuUpdate()}}},[e._v("提交")]),e._v(" "),n("el-button",{attrs:{type:"info"}},[e._v("取消")])],1)],1)])])},staticRenderFns:[]};var l=n("VU/8")({inject:["reload"],data:function(){return{infoInput:{name:"",college:"",class:""},activeIndex:"2",labelPosition:"right",trainInfo:{train:"是",cloths:"",shoes:"",reason:""},cloths:[{value:"选项1",label:"身高：165CM左右"},{value:"选项2",label:"身高：175CM左右"},{value:"选项3",label:"身高：180CM左右"},{value:"选项4",label:"身高：185CM左右"},{value:"选项5",label:"其他情况请联系辅导员"}],shoes:[{value:"选项1",label:"鞋码：36码"},{value:"选项2",label:"鞋码：38码"},{value:"选项3",label:"鞋码：40码"},{value:"选项4",label:"鞋码：42码"},{value:"选项5",label:"其他情况请联系辅导员"}],reason:[{value:"选项1",label:"身体原因（需三甲医院开具证明）"},{value:"选项2",label:"退役兵（需申请免修）"},{value:"选项3",label:"其他原因(请直接向辅导员申请)"}],train_yes:!0,train_no:!1,rules:{number:[{required:!0,message:"请输入学生学号",trigger:"blur"},{min:9,max:10,message:"请输入完整学号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{train:function(){"是"==this.trainInfo.train?(this.train_yes=!0,this.train_no=!1):(this.train_yes=!1,this.train_no=!0)},stuInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n=t.infoInput.number,a=t.infoInput.password;t.$http.post("/api/user/stuList",{number:n,begin:0,end:500}).then(function(e){0==e.data.length?t.$message({message:"没有该生信息，请联系辅导员",type:"warning"}):e.data.length>1?t.$message({message:"请输入完整的学号",type:"warning"}):e.data[0].password!=a?t.$message({message:"密码错误，请重新输入！",type:"warning"}):(t.infoInput.password="",t.infoInput.name=e.data[0].name,t.infoInput.college=e.data[0].college,t.infoInput.class=e.data[0].class)})}})},stuUpdate:function(){var e=this,t=this.infoInput.number;this.$http.post("/api/user/stuList",{number:t,begin:0,end:500}).then(function(n){var a=n.data[0].name,l=n.data[0].college,s=n.data[0].class,o=n.data[0].sex,r=e.trainInfo.cloths,i=e.trainInfo.shoes,u=e.trainInfo.reason,f=n.data[0].phone,c=n.data[0].teacher;e.$http.post("/api/user/stuUpdate",{number:t,name:a,sex:o,college:l,class:s,cloths:r,shoes:i,reason:u,phone:f,teacher:c}).then(function(t){t&&(e.$message({message:"申请成功！",type:"info"}),e.reload())})})}}},a,!1,function(e){n("n+1E")},null,null);t.default=l.exports},"n+1E":function(e,t){}});
//# sourceMappingURL=8.e6a4424365038b8431e9.js.map